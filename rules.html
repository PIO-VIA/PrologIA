<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RÃ¨gles Prolog - SystÃ¨me Expert Terminal</title>
    <link rel="stylesheet" href="rules.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <a href="index.html">ğŸš¢ Port Expert AI</a>
            </div>
            <div class="nav-links">
                <a href="index.html">ğŸ  Accueil</a>
                <a href="system.html">ğŸ–¥ï¸ SystÃ¨me</a>
                <a href="#modules">ğŸ“‹ Modules</a>
                <a href="#facts">ğŸ’¾ Faits</a>
            </div>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Menu Mobile -->
    <div class="menu-overlay" id="menuOverlay"></div>
    <div class="mobile-menu" id="mobileMenu">
        <a href="index.html">ğŸ  Accueil</a>
        <a href="system.html">ğŸ–¥ï¸ SystÃ¨me</a>
        <a href="#modules">ğŸ“‹ Modules</a>
        <a href="#facts">ğŸ’¾ Faits</a>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ“š Base de Connaissances Prolog</h1>
            <h2>RÃ¨gles et Faits du SystÃ¨me Expert</h2>
            <p>Documentation complÃ¨te des 6 modules avec toutes les rÃ¨gles d'infÃ©rence</p>
        </div>

        <!-- Navigation des modules -->
        <div class="module-nav">
            <h2>ğŸ§­ Navigation Rapide</h2>
            <div class="nav-grid">
                <a href="#facts" class="nav-item">
                    <div class="nav-icon">ğŸ’¾</div>
                    <span>Faits du Port</span>
                </a>
                <a href="#module1" class="nav-item">
                    <div class="nav-icon">âš“</div>
                    <span>Module 1 - Accostage</span>
                </a>
                <a href="#module2" class="nav-item">
                    <div class="nav-icon">ğŸ—ï¸</div>
                    <span>Module 2 - DÃ©chargement</span>
                </a>
                <a href="#module3" class="nav-item">
                    <div class="nav-icon">ğŸ“¦</div>
                    <span>Module 3 - Cour</span>
                </a>
                <a href="#module4" class="nav-item">
                    <div class="nav-icon">ğŸ›‚</div>
                    <span>Module 4 - Douane</span>
                </a>
                <a href="#module5" class="nav-item">
                    <div class="nav-icon">ğŸš›</div>
                    <span>Module 5 - Chargement</span>
                </a>
                <a href="#module6" class="nav-item">
                    <div class="nav-icon">ğŸšª</div>
                    <span>Module 6 - Sortie</span>
                </a>
            </div>
        </div>

        <!-- Faits du Port -->
        <section class="rules-section" id="facts">
            <h2>ğŸ’¾ Faits du Port - Base de Connaissances Statique</h2>
            <p class="section-description">
                Faits fondamentaux dÃ©crivant l'infrastructure et les ressources du Port Autonome de Kribi
            </p>

            <div class="subsection">
                <h3>ğŸ—ï¸ Infrastructure Portuaire</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span>Quais disponibles</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Quais : quai(Nom, Longueur, TirantDEauMax)
quai(quai1, 350, 14).
quai(quai2, 350, 12).
quai(quai3, 200, 10).</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>Portiques STS (Ship-to-Shore)</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Portiques : portique(Nom, Capacite, Statut)
portique(portique1, 50, disponible).
portique(portique2, 50, disponible).
portique(portique3, 40, occupe).
portique(portique4, 30, occupe).</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>Zones de stockage</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Zones : zone_stockage(ID, Type, CapaciteRestante, ConnexionElectrique)
zone_stockage(bloc1, export, 80, non).
zone_stockage(bloc2, import, 90, non).
zone_stockage(bloc3, transbordement, 100, non).
zone_stockage(bloc4, refrigere, 50, oui).
zone_stockage(bloc5, dangereux, 60, non).</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>Grues RTG et vÃ©hicules</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Grues RTG : grue_rtg(Nom, Capacite, Statut)
grue_rtg(rtg1, 25, disponible).
grue_rtg(rtg2, 25, disponible).
grue_rtg(rtg3, 20, occupe).

% VÃ©hicules internes : vehicule(Nom, Type, Statut)
vehicule(tracteur1, tracteur, disponible).
vehicule(tracteur2, tracteur, occupe).
vehicule(agv1, agv, disponible).
vehicule(agv2, agv, disponible).</code></pre>
                </div>
            </div>
        </section>

        <!-- Module 1 - Accostage -->
        <section class="rules-section" id="module1">
            <h2>âš“ Module 1 - Accostage</h2>
            <p class="section-description">
                Planification et attribution des quais selon les contraintes physiques et mÃ©tÃ©orologiques
            </p>

            <div class="subsection">
                <h3>ğŸ¯ RÃ¨gles Principales</h3>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>R1 : CompatibilitÃ© Quai</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Un quai est compatible si sa longueur et son tirant d'eau sont suffisants
quai_compatible(Navire, Quai) :-
    navire(Navire, LongueurNavire, TirantNavire, _, _, _),
    quai(Quai, LongueurQuai, TirantQuai),
    LongueurQuai >= LongueurNavire,
    TirantQuai >= TirantNavire,
    \+ occupe(Quai, _).</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R2 : Conditions MÃ©tÃ©orologiques</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% VÃ©rifier si le navire peut accoster (mÃ©tÃ©o OK)
peut_accoster(Navire, Vent) :-
    Vent < 50,
    write('Le navire '), write(Navire), write(' peut accoster.'), nl.

% Report d'accostage en cas de mÃ©tÃ©o dÃ©favorable
reporter_accostage(Navire) :-
    meteo(Navire, defavorable),
    write('Accostage reportÃ© pour '), write(Navire), write(' (mÃ©tÃ©o dÃ©favorable).'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R3 : PrioritÃ© des Navires</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% VÃ©rifier la prioritÃ© basÃ©e sur les EVP
priorite_navire(Navire1, Navire2) :-
    navire(Navire1, _, _, EVP1, _, _),
    navire(Navire2, _, _, EVP2, _, _),
    EVP1 > EVP2,
    write(Navire1), write(' a la prioritÃ© sur '), write(Navire2), write('.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R4 : RÃ©servation Stockage SpÃ©cialisÃ©</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% RÃ©server un bloc de stockage pour conteneurs rÃ©frigÃ©rÃ©s
reserver_stockage_refrigere(Navire) :-
    navire(Navire, _, _, _, PourcentRefrigeres, _),
    PourcentRefrigeres > 0,
    stockage(bloc_refrigere, disponible),
    write('Bloc rÃ©frigÃ©rÃ© rÃ©servÃ© pour '), write(Navire), write('.'), nl.

% RÃ©server un bloc pour marchandises dangereuses
reserver_stockage_dangereux(Navire) :-
    navire(Navire, _, _, _, _, PourcentDangereux),
    PourcentDangereux > 0,
    stockage(bloc_dangereux, disponible),
    write('Bloc dangereux rÃ©servÃ© pour '), write(Navire), write('.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>RÃ¨gle Principale - Planification Accostage</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Planifier l'accostage complet
planifier_accostage(Navire, Vent) :-
    peut_accoster(Navire, Vent),
    quai_compatible(Navire, Quai),
    (Quai \= aucun ->
        (reserver_stockage_refrigere(Navire),
         reserver_stockage_dangereux(Navire),
         notifier_douanes(Navire),
         write('Attribution : '), write(Navire), write(' au '), write(Quai), write('.'), nl)
    ;   true).</code></pre>
                </div>
            </div>
        </section>

        <!-- Module 2 - DÃ©chargement -->
        <section class="rules-section" id="module2">
            <h2>ğŸ—ï¸ Module 2 - DÃ©chargement</h2>
            <p class="section-description">
                Gestion des portiques STS, inspection des conteneurs et enregistrement TOS
            </p>

            <div class="subsection">
                <h3>ğŸ¯ RÃ¨gles Principales</h3>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>R1 : Attribution Portique STS</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Assigner un portique disponible pour le dÃ©chargement
portique_disponible(Navire, Portique) :-
    portique(Portique, _, disponible),
    write('Portique '), write(Portique), write(' assignÃ© pour dÃ©charger '), write(Navire), write('.'), nl.

% Gestion absence de portique
portique_disponible(Navire, aucun) :-
    \+ (portique(_, _, disponible)),
    write('Aucun portique disponible pour dÃ©charger '), write(Navire), write('.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R2 : Inspection Conteneurs</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Inspecter un conteneur pour dÃ©tecter les anomalies
inspecter_conteneur(Conteneur, Navire) :-
    conteneur(Conteneur, Navire, Type, Etat),
    (Etat = endommage ->
        write('Alerte : Conteneur '), write(Conteneur), write(' de type '), write(Type), write(' est endommagÃ© !'), nl
    ; Etat = fuite ->
        write('Alerte critique : Conteneur '), write(Conteneur), write(' de type '), write(Type), write(' prÃ©sente une fuite !'), nl
    ; write('Conteneur '), write(Conteneur), write(' de type '), write(Type), write(' est intact.'), nl).</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R3 : Enregistrement TOS</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Enregistrer un conteneur dans le TOS
enregistrer_tos(Conteneur, Navire) :-
    conteneur(Conteneur, Navire, Type, Etat),
    assertz(enregistre_tos(Conteneur, Navire, Type, Etat)),
    write('Conteneur '), write(Conteneur), write(' enregistrÃ© dans le TOS.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R4 : Attribution VÃ©hicule Interne</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Assigner un vÃ©hicule interne pour transporter le conteneur
vehicule_disponible(Conteneur, Vehicule) :-
    conteneur(Conteneur, _, _, _),
    vehicule(Vehicule, _, disponible),
    write('VÃ©hicule '), write(Vehicule), write(' assignÃ© pour transporter '), write(Conteneur), write('.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R5 : Calcul Temps DÃ©chargement</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Calculer le temps estimÃ© de dÃ©chargement
temps_dechargement(Navire, Temps) :-
    navire(Navire, _, _, EVP, _, _),
    portique(Portique, Capacite, disponible),
    Temps is EVP / Capacite,
    write('Temps estimÃ© pour dÃ©charger '), write(Navire), write(' : '), write(Temps), write(' heures.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>RÃ¨gle Principale - DÃ©chargement Complet</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% DÃ©charger un navire complet
decharger_navire(Navire) :-
    portique_disponible(Navire, Portique),
    (Portique \= aucun ->
        (temps_dechargement(Navire, _),
         findall(Conteneur, conteneur(Conteneur, Navire, _, _), Conteneurs),
         decharger_conteneurs(Conteneurs, Navire),
         write('DÃ©chargement de '), write(Navire), write(' terminÃ©.'), nl)
    ;   write('DÃ©chargement de '), write(Navire), write(' impossible : aucun portique disponible.'), nl).</code></pre>
                </div>
            </div>
        </section>

        <!-- Module 3 - Cour -->
        <section class="rules-section" id="module3">
            <h2>ğŸ“¦ Module 3 - Cour (Stockage)</h2>
            <p class="section-description">
                Empilage stratÃ©gique et gestion des zones de stockage avec grues RTG
            </p>

            <div class="subsection">
                <h3>ğŸ¯ RÃ¨gles Principales</h3>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>R1 : SÃ©lection Zone Compatible</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% SÃ©lectionner une zone de stockage compatible
zone_compatible(Conteneur, Bloc) :-
    conteneur(Conteneur, _, Type, _, Destination),
    zone_stockage(Bloc, TypeZone, Capacite, Connexion),
    Capacite > 0,
    (Type = refrigere -> Connexion = oui ; true),
    (Type = dangereux -> TypeZone = dangereux ; TypeZone = Destination),
    write('Zone '), write(Bloc), write(' sÃ©lectionnÃ©e pour '), write(Conteneur), write('.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R2 : VÃ©rification Hauteur Empilage</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% VÃ©rifier la hauteur d'empilage dans une position (max 5)
hauteur_valide(Bloc, RangÃ©e, Colonne, Hauteur) :-
    findall(H, position_occupee(Bloc, [RangÃ©e, Colonne, H]), Hauteurs),
    length(Hauteurs, Count),
    Count < 5,  % Hauteur max. 5
    Hauteur is Count + 1,
    write('Position '), write(RangÃ©e), write('-'), write(Colonne), write('-'), write(Hauteur), write(' valide dans '), write(Bloc), write('.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R3 : Attribution Grue RTG</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Assigner une grue RTG pour empiler
grue_disponible(Conteneur, Grue) :-
    conteneur(Conteneur, _, _, _, _),
    grue_rtg(Grue, _, disponible),
    write('Grue '), write(Grue), write(' assignÃ©e pour empiler '), write(Conteneur), write('.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R4 : Mise Ã  jour TOS Localisation</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Mettre Ã  jour le TOS avec la localisation
enregistrer_localisation(Conteneur, Bloc, Position) :-
    assertz(localisation_tos(Conteneur, Bloc, Position)),
    assertz(position_occupee(Bloc, Position)),
    write('Conteneur '), write(Conteneur), write(' enregistrÃ© dans le TOS Ã  '), write(Bloc), write(' position '), write(Position), write('.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R5 : Gestion CapacitÃ© Zone</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% RÃ©duire la capacitÃ© de la zone
reduire_capacite(Bloc) :-
    zone_stockage(Bloc, Type, Capacite, Connexion),
    Capacite > 0,
    NouvelleCapacite is Capacite - 1,
    retract(zone_stockage(Bloc, Type, Capacite, Connexion)),
    assertz(zone_stockage(Bloc, Type, NouvelleCapacite, Connexion)),
    write('CapacitÃ© de '), write(Bloc), write(' rÃ©duite Ã  '), write(NouvelleCapacite), write('.'), nl.</code></pre>
                </div>
            </div>
        </section>

        <!-- Module 4 - Douane -->
        <section class="rules-section" id="module4">
            <h2>ğŸ›‚ Module 4 - Douane</h2>
            <p class="section-description">
                Traitement administratif, vÃ©rification documents et gestion inspections
            </p>

            <div class="subsection">
                <h3>ğŸ¯ RÃ¨gles Principales</h3>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>R1 : VÃ©rification Documents CAMCIS</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% VÃ©rifier la validitÃ© des documents
verifier_documents(Conteneur) :-
    document(Conteneur, connaissement, oui),
    document(Conteneur, declaration_douaniere, oui),
    write('Documents pour '), write(Conteneur), write(' valides (CAMCIS).'), nl.

% Gestion documents invalides
verifier_documents(Conteneur) :-
    (document(Conteneur, connaissement, non) ; document(Conteneur, declaration_douaniere, non)),
    write('Documents pour '), write(Conteneur), write(' invalides. Traitement bloquÃ©.'), nl,
    fail.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R2 : Inspection Physique Requise</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% DÃ©terminer si une inspection physique est requise
requiert_inspection(Conteneur) :-
    conteneur(Conteneur, _, Type, Etat, _),
    (Type = dangereux ; Etat = endommage ; Etat = fuite),
    assertz(statut_douanier(Conteneur, inspection_requise)),
    write('Inspection physique requise pour '), write(Conteneur), write(' (type ou Ã©tat critique).'), nl.

% Inspection alÃ©atoire (simulÃ©e pour 10% des conteneurs standards)
requiert_inspection(Conteneur) :-
    conteneur(Conteneur, _, standard, intact, _),
    random(1, 11, Num),
    Num = 1,
    assertz(statut_douanier(Conteneur, inspection_requise)),
    write('Inspection physique alÃ©atoire requise pour '), write(Conteneur), write('.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R3 : Approbation DouaniÃ¨re</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Approuver si pas d'inspection requise
approuver_douane(Conteneur) :-
    conteneur(Conteneur, _, standard, intact, _),
    \+ requiert_inspection(Conteneur),
    assertz(statut_douanier(Conteneur, approuve)),
    write('Conteneur '), write(Conteneur), write(' approuvÃ© sans inspection.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R4 : VÃ©rification Taxes</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% VÃ©rifier le paiement des taxes
verifier_taxes(Conteneur) :-
    taxe(Conteneur, paye),
    write('Taxes payÃ©es pour '), write(Conteneur), write('.'), nl.

% Gestion taxes non payÃ©es
verifier_taxes(Conteneur) :-
    taxe(Conteneur, non_paye),
    write('Taxes non payÃ©es pour '), write(Conteneur), write('. Traitement bloquÃ©.'), nl,
    fail.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R5 : Attribution Transitaire</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Assigner un transitaire
assigner_transitaire(Conteneur, Transitaire) :-
    transitaire(Transitaire, disponible),
    write('Transitaire '), write(Transitaire), write(' assignÃ© pour '), write(Conteneur), write('.'), nl.</code></pre>
                </div>
            </div>
        </section>

        <!-- Module 5 - Chargement -->
        <section class="rules-section" id="module5">
            <h2>ğŸš› Module 5 - Chargement</h2>
            <p class="section-description">
                PrÃ©paration et chargement des conteneurs d'export avec optimisation stabilitÃ©
            </p>

            <div class="subsection">
                <h3>ğŸ¯ RÃ¨gles Principales</h3>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>R1 : Ã‰ligibilitÃ© Conteneur Chargement</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% VÃ©rifier l'Ã©ligibilitÃ© d'un conteneur pour le chargement
conteneur_eligible(Conteneur, NavireCible) :-
    conteneur(Conteneur, _, Type, Etat, Destination),
    localisation_tos(Conteneur, _, _),
    (Destination = export ; Destination = transbordement),
    document(Conteneur, connaissement, oui),
    document(Conteneur, declaration_douaniere, oui),
    taxe(Conteneur, paye),
    scelle(Conteneur, intact),
    navire(NavireCible, _, _, _, _, _, EVPRestant),
    EVPRestant > 0,
    write('Conteneur '), write(Conteneur), write(' Ã©ligible pour chargement sur '), write(NavireCible), write('.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R2 : Plan de Chargement</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Ordonner les conteneurs par prioritÃ© pour la stabilitÃ©
ordonner_conteneurs(Conteneurs, ConteneursOrdonnes) :-
    findall(Prio-Conteneur, (
        member(Conteneur, Conteneurs),
        conteneur(Conteneur, _, Type, _, Destination),
        priorite_chargement(Type, Destination, Prio)
    ), PrioConteneurs),
    sort(PrioConteneurs, PrioConteneursOrdonnes),
    reverse(PrioConteneursOrdonnes, PrioConteneursInverses),
    findall(Conteneur, member(_-Conteneur, PrioConteneursInverses), ConteneursOrdonnes).</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R3 : Temps de Chargement</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Calculer le temps estimÃ© de chargement
temps_chargement(NavireCible, Conteneurs, Temps) :-
    length(Conteneurs, NombreConteneurs),
    portique(Portique, Capacite, disponible),
    Temps is NombreConteneurs / Capacite,
    write('Temps estimÃ© pour charger '), write(NavireCible), write(' : '), write(Temps), write(' heures.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R4 : Gestion CapacitÃ© Navire</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Mettre Ã  jour la capacitÃ© du navire
reduire_capacite_navire(NavireCible) :-
    navire(NavireCible, Longueur, TirantDEau, EVPTotal, PourcentRefrigeres, PourcentDangereux, EVPRestant),
    EVPRestant > 0,
    NouveauEVPRestant is EVPRestant - 1,
    retract(navire(NavireCible, Longueur, TirantDEau, EVPTotal, PourcentRefrigeres, PourcentDangereux, EVPRestant)),
    assertz(navire(NavireCible, Longueur, TirantDEau, EVPTotal, PourcentRefrigeres, PourcentDangereux, NouveauEVPRestant)),
    write('CapacitÃ© restante de '), write(NavireCible), write(' : '), write(NouveauEVPRestant), write(' EVP.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>PrioritÃ©s de Chargement</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Faits sur la prioritÃ© de chargement (pour stabilitÃ© et destination)
priorite_chargement(dangereux, transbordement, 4).
priorite_chargement(dangereux, export, 3).
priorite_chargement(refrigere, transbordement, 2).
priorite_chargement(refrigere, export, 1).
priorite_chargement(standard, transbordement, 1).
priorite_chargement(standard, export, 0).</code></pre>
                </div>
            </div>
        </section>

        <!-- Module 6 - Sortie -->
        <section class="rules-section" id="module6">
            <h2>ğŸšª Module 6 - Sortie du Port</h2>
            <p class="section-description">
                Transport terrestre et gestion des flux aux portes du port
            </p>

            <div class="subsection">
                <h3>ğŸ¯ RÃ¨gles Principales</h3>
                
                <div class="code-block">
                    <div class="code-header">
                        <span>R1 : Ã‰ligibilitÃ© Sortie</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% VÃ©rifier l'Ã©ligibilitÃ© d'un conteneur pour la sortie
conteneur_eligible_sortie(Conteneur) :-
    conteneur(Conteneur, _, _, _, import),
    localisation_tos(Conteneur, _, _),
    document(Conteneur, connaissement, oui),
    document(Conteneur, declaration_douaniere, oui),
    taxe(Conteneur, paye),
    scelle(Conteneur, intact),
    write('Conteneur '), write(Conteneur), write(' Ã©ligible pour sortie.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R2 : Attribution Transporteur</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Assigner un transporteur pour le conteneur
assigner_transporteur(Conteneur, Transporteur) :-
    conteneur(Conteneur, _, _, _, _),
    transporteur(Transporteur, _, disponible, Capacite),
    Capacite > 0,
    write('Transporteur '), write(Transporteur), write(' assignÃ© pour '), write(Conteneur), write('.'), nl.

% Mettre Ã  jour la capacitÃ© du transporteur
reduire_capacite_transporteur(Transporteur) :-
    transporteur(Transporteur, Type, Statut, Capacite),
    Capacite > 0,
    NouvelleCapacite is Capacite - 1,
    retract(transporteur(Transporteur, Type, Statut, Capacite)),
    assertz(transporteur(Transporteur, Type, Statut, NouvelleCapacite)),
    write('CapacitÃ© de '), write(Transporteur), write(' rÃ©duite Ã  '), write(NouvelleCapacite), write('.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R3 : Gestion Portes</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% SÃ©lectionner une porte non congestionnÃ©e
porte_disponible(Conteneur, Porte) :-
    porte(Porte, disponible, ConteneursEnAttente),
    ConteneursEnAttente < 5,  % Seuil de congestion
    write('Porte '), write(Porte), write(' sÃ©lectionnÃ©e pour '), write(Conteneur), write('.'), nl.

% Mettre Ã  jour la congestion de la porte
augmenter_congestion(Porte) :-
    porte(Porte, Statut, ConteneursEnAttente),
    NouveauConteneursEnAttente is ConteneursEnAttente + 1,
    (NouveauConteneursEnAttente >= 5 ->
        NouveauStatut = congeste
    ;   NouveauStatut = disponible),
    retract(porte(Porte, Statut, ConteneursEnAttente)),
    assertz(porte(Porte, NouveauStatut, NouveauConteneursEnAttente)),
    write('Congestion de '), write(Porte), write(' mise Ã  jour : '), write(NouveauConteneursEnAttente), write(' conteneurs.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>R4 : Estimation Temps Sortie</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% Estimer le temps de sortie
temps_sortie(Conteneur, Temps) :-
    Temps = 0.5,  % 30 minutes = 0.5 heure
    write('Temps estimÃ© pour la sortie de '), write(Conteneur), write(' : '), write(Temps), write(' heures.'), nl.</code></pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span>RÃ¨gle Principale - Sortie ComplÃ¨te</span>
                        <button onclick="copyCode(this)" class="copy-btn">ğŸ“‹ Copier</button>
                    </div>
                    <pre><code>% GÃ©rer la sortie complÃ¨te d'un conteneur
sortir_port(Conteneur) :-
    conteneur_eligible_sortie(Conteneur),
    assigner_transporteur(Conteneur, Transporteur),
    (Transporteur \= aucun ->
        (porte_disponible(Conteneur, Porte),
         (Porte \= aucun ->
             (temps_sortie(Conteneur, _),
              reduire_capacite_transporteur(Transporteur),
              augmenter_congestion(Porte),
              retract(localisation_tos(Conteneur, _, _)),
              assertz(statut_sortie(Conteneur, sorti)),
              write('Conteneur '), write(Conteneur), write(' sorti via '), write(Transporteur), write(' Ã  la porte '), write(Porte), write('.'), nl)
         ;   assertz(statut_sortie(Conteneur, en_attente)),
             write('Sortie de '), write(Conteneur), write(' impossible : aucune porte disponible.'), nl))
    ;   assertz(statut_sortie(Conteneur, en_attente)),
        write('Sortie de '), write(Conteneur), write(' impossible : aucun transporteur disponible.'), nl).</code></pre>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="stats-section">
            <h2>ğŸ“Š Statistiques de la Base de Connaissances</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">6</div>
                    <div class="stat-label">Modules Prolog</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">RÃ¨gles d'InfÃ©rence</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">25+</div>
                    <div class="stat-label">Faits du Port</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">Coverage Logistique</div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ğŸ“š Documentation Technique</h3>
                    <p>Base de connaissances complÃ¨te du systÃ¨me expert pour la gestion logistique du terminal Ã  conteneurs.</p>
                </div>
                <div class="footer-section">
                    <h4>Navigation</h4>
                    <ul>
                        <li><a href="index.html">ğŸ  Accueil</a></li>
                        <li><a href="system.html">ğŸ–¥ï¸ SystÃ¨me Expert</a></li>
                        <li><a href="#facts">ğŸ’¾ Faits du Port</a></li>
                        <li><a href="#modules">ğŸ“‹ Modules</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Ã‰cole ENSPY</h4>
                    <p>Ã‰cole Nationale SupÃ©rieure Polytechnique de YaoundÃ©</p>
                    <p>SystÃ¨me Formel et IA - 2025</p>
                </div>
            </div>
        </footer>
    </div>

    <script src="rules.js"></script>
</body>
</html>